<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Sockets</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">

        <section id="pantalla-bienvenida" class="pantalla activa">
            <h1>Bingo Familiar</h1>
            <div class="form-unirse">
                <input type="text" id="inputNombre" placeholder="Ingresa tu Nombre" maxlength="15">
                
                <hr>
                
                <button id="btnCrearPartida">Crear Nueva Partida</button>
                
                <hr>
                
                <input type="text" id="inputClave" placeholder="Ingresa la Clave" maxlength="5">
                <button id="btnUnirsePartida">Unirse a la Partida</button>

                <p id="mensajeError"></p>
            </div>
        </section>

        <section id="pantalla-lobby" class="pantalla">
            <h2>Sala de Espera</h2>
            <p>Clave de la Partida: <strong id="lobbyClave">---</strong></p>
            
            <div id="lobby-vista-anfitrion">
                <h3>Selecciona el Patrón de Juego:</h3>
                <div id="lobbyPatrones" class="selector-patrones">
                    <button class="patron seleccionado" data-patron="linea">Línea Simple</button>
                    <button class="patron" data-patron="letra_l">Letra L</button>
                    <button class="patron" data-patron="bordes">Bordes (O)</button>
                    <button class="patron" data-patron="cruz">Cruz</button>
                    <button class="patron" data-patron="carton_lleno">Cartón Lleno</button>
                </div>
                <button id="btnEmpezarPartida">¡COMENZAR PARTIDA!</button>
            </div>
            
            <div id="lobby-vista-jugador">
                <p>Esperando que el anfitrión inicie el juego...</p>
            </div>

            <hr>
            <h3>Jugadores Conectados:</h3>
            <ul id="lobbyListaJugadores">
                </ul>
        </section>

        <section id="pantalla-juego-anfitrion" class="pantalla">
            <h2>Tablero del Anfitrión</h2>
            <button id="btnSortearFicha">Sortear Siguiente Ficha</button>
            <div class="displays-anfitrion">
                <div class="display" id="display-actual">
                    <span>Sorteo Actual</span>
                    <strong id="fichaActual">--</strong>
                </div>
                <div class="display" id="display-anterior">
                    <span>Anterior</span>
                    <strong id="fichaAnterior">--</strong>
                </div>
            </div>
            <div id="tableroControlAnfitrion" class="tablero-anfitrion">
                </div>
        </section>

        <section id="pantalla-juego-jugador" class="pantalla">
            <div class="info-jugador">
                <p>Jugando por: <strong id="jugadorPatron">---</strong></p>
                <p>Última ficha: <strong id="jugadorFicha">--</strong></p>
            </div>
            <h2>Tu Cartilla</h2>
            <div id="cartillaJugador" class="cartilla" style="margin-bottom: 10px;">
                </div>

            <button id="btnCantarBingo">¡CANTAR BINGO!</button>    
            
            <div class="historial-fichas">
                <strong>Fichas Salidas:</strong>
                <div id="historialContenedor" class="historial-scroll">
                    <span>Esperando fichas...</span>
                </div>
            </div>
            
        </section>

    </div> <script src="/socket.io/socket.io.js"></script>
    <script src="client.js" defer></script>

    <div id="modalFinJuego" class="modal-overlay">
        <div class="modal-contenido">
            <h2>¡BINGO!</h2>
            <p id="modalGanadorTexto">El ganador es: ---</p>
            <button id="btnVolverAlLobby">Volver al Lobby</button>
        </div>
    </div>

</body>
</html>